"use strict";ui.ajax=function(e,a,c,i,n,o){var t=c?c:"POST",r={};i=i?"string"==typeof i?$(i).serializeArray():i:{},$.each(i,function(e,a){a&&void 0!=a.name&&(e=a.name,a=a.value),-1!=e.indexOf("[]")?(void 0==r[e]&&(r[e]=[]),r[e].push(a)):r[e]=a});var u=n?n.split("-")[0]:"json",s={async:!0,contentType:"application/x-www-form-urlencoded;",cache:"",minute:600,loading:!1,error:function(){return!0}};if($.extend(s,o),s.cache&&(ui.ajax.cache=ui.ajax.cache||{},ui.ajax.cachetime=ui.ajax.cachetime||{},ui.ajax.cache[s.cache])){var l=(new Date).getTime(),h=ui.ajax.cachetime[s.cache]+6e4*s.minute;if(h>l)return a(ui.ajax.cache[s.cache])}s.loading&&(s.loadingID=ui.cover.loading("body",1)),$.ajax({type:t,url:e,data:r,dataType:u,async:s.async,contentType:s.contentType,success:function(e){switch(s.loading&&ui.cover.remove(s.loadingID),n){case"html-inline":e=e.replace(/\s{2}/g,"");break;case"json-string":e=JSON.stringify(e)}return s.cache&&(ui.ajax.cache[s.cache]=e,ui.ajax.cachetime[s.cache]=(new Date).getTime()),a(e)},error:function(a,c,i){s.error()&&console&&(console.log("ui ajax error: url'"+e+"'"),console.log(a.responseText),console.log(c),console.log(i))}})},ui.ajax.cache={},ui.ajax.cachetime={};