"use strict";ui.box=function(t){var o={title:"消息提示",close:!0,cover:!0,coverClose:!1,container:"body",html:"",btn:{ok:{name:"确定",callback:function(t){return t.ok?t.ok():void 0}},cancel:{name:"取消",callback:function(t){return t.cancel?t.cancel():void 0}}},drag:!0,ghost:!0,animate:"ui-box-zoomIn",addClass:"",zIndex:1e3,offset:{x:"center",y:"middle"},callback:function(){},remove:function(){},ok:function(){},cancel:function(){},target:null,box:null,header:null,content:null,btns:null,WHTL:{},whtl:{}},n=ui.number.random(1e8).toString();t&&t.id&&(n=t.id),ui.box._.g[n]={},$.extend(ui.box._.g[n],o,t);var e=ui.box._.g[n];e.container=$(e.container),e.content=$("<div>",{"class":"ui-box-content"}).html(e.html);var a="";for(var i in e.btn)e[i]!==!1&&(a+='<span class="ui-box-btn-a ui-box-btn-a-'+i+'" data-key="'+i+'">'+e.btn[i].name+"</span>");""!=a&&(e.btns=$("<div>",{"class":"ui-box-btn"}).html(a)),e.cover=e.cover?$('<div class="ui-box-cover"></div>'):"",e.ghost=e.ghost?$('<div class="ui-box-ghost"></div>'):"",e.close=e.close?$('<span class="ui-box-close"><i class="fa fa-remove"></i></span>'):"",e.header=$("<div>",{"class":"ui-box-header"}).html([e.title?'<span class="ui-box-title">'+e.title+"</span>":"",e.close]),e.box=$("<div>",{"class":"ui-box"}).html([e.header,e.content,e.btns]);var c=e.container.is($("body"))?"pf-trbl ui-box-c":"pa-trbl ui-box-c";return e.addClass&&(c+=" "+e.addClass),e.target=$("<div>",{"class":c,"data-ui":"box"}).html([e.cover,e.box,e.ghost]).css({zIndex:e.zIndex}),e.close&&e.close.mousedown(function(){return e.btn.cancel&&e.btn.cancel.callback?e.btn.cancel.callback(e)!==!1&&ui.box.remove(n):ui.box.remove(n),!1}),e.btns&&e.btns.on("click",".ui-box-btn-a",function(){var t=$(this).data("key");e.btn[t].callback&&e.btn[t].callback(e)!==!1&&ui.box.remove(n)}),e.cover&&e.coverClose&&e.cover.click(function(){ui.box.remove(n)}),e.container.append(e.target),ui.box._.show(n),e.callback(e),n},ui.box.alert=function(t,o){var n={html:t,cancel:!1};o&&(n.ok=o),ui.box(n)},ui.box.confirm=function(t,o,n){var e={html:t};o&&(e.ok=o),n&&(e.cancel=n),ui.box(e)},ui.box._={g:{},show:function(t){var o=this.g[t];o.WHTL=ui.css.whtl(o.container.is($("body"))?window:o.container),o.whtl=ui.css.offset(o.offset,ui.css.whtl(o.box),o.WHTL),o.box.css({top:o.whtl.top,left:o.whtl.left}),o.animate&&o.box.addClass(o.animate),ui.drag(o.ghost?{target:o.ghost,handle:o.header,container:o.target,limit:!0,beforeStart:function(t){o.ghost.css(o.whtl).show()},end:function(t){o.ghost.hide(),o.box.css(t.css),o.whtl=ui.css.whtl(o.box)}}:{target:o.box,handle:o.header,container:o.target,limit:!0})}},ui.box.has=function(t){var o=this._.g;return void 0!==o[t]},ui.box.remove=function(t){var o=this._.g;if(o[t])return o[t].remove(o)===!1?!1:(o[t].target.remove(),delete o[t],!0);var n=$(t).find('[data-ui="box"]');if(n.length&&n.each(function(){var t=$(this).data("id");ui.box.remove(t)}),!t)for(var t in o)ui.box.remove(t);return!0};